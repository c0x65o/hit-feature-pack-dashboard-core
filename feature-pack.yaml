name: dashboard-core
title: Dashboards
description: "Dashboard core: runtime + dashboard definition storage/APIs"

schema:
  source: src/schema/dashboard-definitions.ts
  exports:
    - dashboardDefinitions
    - dashboardDefinitionShares
    - dashboardDefinitionsRelations
    - dashboardDefinitionSharesRelations
    - DashboardDefinition
    - DashboardDefinitionShare
    - InsertDashboardDefinition
    - InsertDashboardDefinitionShare

api:
  routes:
    - path: /api/dashboard-templates
      methods: [GET]
      handler: "@hit/feature-pack-dashboard-core/server/api/dashboard-templates"
      description: "List dashboard templates compiled by hit run into .hit/generated/dashboard-templates.json"
    - path: /api/dashboard-definitions
      methods: [GET, POST]
      handler: "@hit/feature-pack-dashboard-core/server/api/dashboard-definitions"
      description: "List dashboard definitions visible to the user (GET) or create a dashboard definition (POST)"
    - path: /api/dashboard-definitions/[key]
      methods: [GET, PUT]
      handler: "@hit/feature-pack-dashboard-core/server/api/dashboard-definitions-key"
      description: "Get a dashboard definition (GET) or update a user-owned definition (PUT)"
    - path: /api/dashboard-definitions/[key]/shares
      methods: [GET, POST, DELETE]
      handler: "@hit/feature-pack-dashboard-core/server/api/dashboard-definitions-shares"
      description: "List/add/remove share entries for a dashboard definition (ACL)"

routes:
  - path: /dashboards
    page: Dashboards
    roles: []
    default_roles_allow: [user]
    authz: { entity: dashboards, verb: read }

nav: []

# ─────────────────────────────────────────────────────────────────────────────
# PERMISSIONS - Action definitions (for admin-core permissions UI + runtime checks)
# ─────────────────────────────────────────────────────────────────────────────
# Permissions are schema-driven and live under:
#   schema/permissions.yaml
